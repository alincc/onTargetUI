<div class="invite-collaborator">
  <div class="modal-header">
    <h3 class="modal-title">Invite to collaborate</h3>
  </div>
  <form name="form" class="form-horizontal form-validation" ng-submit="inviteCollaborator()" novalidate
        ng-show="!sentSuccess">
    <div class="modal-body">
      <!--<div class="form-group">-->
        <!--<label class="col-xs-3 col-xs-offset-1 control-label">First Name <span class="label-required" ng-if="form.firstName.$error.required">*</span></label>-->

        <!--<div class="col-xs-7">-->
          <!--<input name="firstName" type="text" class="form-control" placeholder="First Name"-->
                 <!--ng-model="firstName" required>-->
          <!--<span class="text-danger help-block m-b-none"-->
                <!--ng-show="form.firstName.$error.required && form.firstName.$dirty">First Name is missing</span>-->
        <!--</div>-->
      <!--</div>-->
      <!--<div class="form-group">-->
        <!--<label class="col-xs-3 col-xs-offset-1 control-label">Last Name <span class="label-required" ng-if="form.lastName.$error.required">*</span></label>-->

        <!--<div class="col-xs-7">-->
          <!--<input name="lastName" type="text" class="form-control" placeholder="Last Name"-->
                 <!--ng-model="lastName" required>-->
          <!--<span class="text-danger help-block m-b-none" ng-show="form.lastName.$error.required && form.lastName.$dirty">Last Name is missing</span>-->
        <!--</div>-->
      <!--</div>-->
      <div class="form-group">
        <label class="col-xs-3 col-xs-offset-1 control-label">Email <span class="label-required" ng-if="form.email.$error.required">*</span></label>

        <div class="col-xs-7">
          <input name="email" type="text" class="form-control" placeholder="Email"
                 ng-model="email" required ng-pattern="/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/">
          <span class="text-danger help-block m-b-none" ng-show="form.email.$error.pattern">Email is not valid</span>
          <span class="text-danger help-block m-b-none" ng-show="form.email.$error.required && form.email.$dirty">Email is missing</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-xs-3 col-xs-offset-1 control-label">Company <span class="label-required" ng-show="form.existingCompanyName.$error.required">*</span></label>
        <div class="col-xs-7">
          <!--<select class="form-control" name="existingCompanyName" ng-model="existingCompany.id"-->
                  <!--ng-change="companyChanged()"-->
                  <!--ng-options="company.companyId as company.companyName for company in companies" required>-->
            <!--<option value="">&#45;&#45; Select &#45;&#45;</option>-->
          <!--</select>-->

          <div class="dropdown" dropdown>
            <button class="btn btn-default dropdown-toggle btn-custom-dropdown-menu" type="button" dropdown-toggle>
              <i class="fa fa-plus" ng-if="existingCompany.id == 0"></i>
              <span ng-bind="existingCompany.name"></span>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu custom-dropdown-menu-contain">
              <li>
                <ul class="custom-dropdown-menu" ng-class="{ 'custom-dropdown-menu-scrolled' : companies.length > 2}">
                  <li class="active" ng-class="{ 'active' : existingCompany.id == -1}">
                    <a ng-click="companyChanged(-1, '-- Select --')">
                      -- Select --
                    </a>
                  </li>
                  <li ng-repeat="company in companies" ng-class="{ 'active' : existingCompany.id == company.companyId}">
                    <a ng-click="companyChanged(company.companyId, company.companyName)">
                      <span ng-bind="company.companyName"></span>
                    </a>
                  </li>
                </ul>
              </li>
              <li role="separator" class="divider"></li>
              <li ng-class="{ 'active' : existingCompany.id == 0}">
                <a ng-click="companyChanged(0, 'Add new company')">
                  <i class="fa fa-plus"></i>
                  <span>Add new company</span>
                </a>
              </li>
            </ul>
          </div>


          <span class="text-danger help-block m-b-none"
                ng-show="existingCompany.id == -1 && existingCompany.isChanged">Company Name is missing</span>
        </div>
      </div>
      <!--<div class="form-group">-->
        <!--<div class="col-xs-7 col-xs-offset-4">-->
          <!--<a ng-click="addNewCompany = !addNewCompany">-->
            <!--<span ng-if="!addNewCompany"><i class="fa fa-plus"></i> Add New Company </span>-->
            <!--<span ng-if="addNewCompany">Use Existing Company</span>-->
          <!--</a>-->
        <!--</div>-->
      <!--</div>-->
      <div ng-if="addNewCompany == true">
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Company Name <span class="label-required" ng-show="form.newCompanyName.$error.required">*</span></label>

          <div class="col-xs-7">
            <input name="newCompanyName" type="text" class="form-control" placeholder="Company Name"
                   ng-model="newCollaborator.companyName" required>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newCompanyName.$error.required && form.newCompanyName.$dirty">Company Name is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Company Type <span class="label-required" ng-show="form.newCompanyType.$error.required">*</span></label>

          <div class="col-xs-7">
            <select class="form-control" name="newCompanyType" ng-model="newCollaborator.companyType"
                    ng-options="type.value as type.name for type in companyTypes" required>
              <option value="">-- Select --</option>
            </select>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newCompanyType.$error.required && form.newCompanyType.$dirty">Company Type is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Address 1 <span class="label-required" ng-show="form.newAddress1.$error.required">*</span></label>

          <div class="col-xs-7">
            <input name="newAddress1" type="text" class="form-control" placeholder="Address 1"
                   ng-model="newCollaborator.addressOne" required>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newAddress1.$error.required && form.newAddress1.$dirty">Address 1 is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Address 2</label>

          <div class="col-xs-7">
            <input name="newAddress2" type="text" class="form-control" placeholder="Address 2"
                   ng-model="newCollaborator.addressTwo">
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">City <span class="label-required" ng-show="form.newCity.$error.required">*</span></label>

          <div class="col-xs-7">
            <input name="newCity" type="text" class="form-control" placeholder="City" ng-model="newCollaborator.city"
                   required>
            <span class="text-danger help-block m-b-none" ng-show="form.newCity.$error.required && form.newCity.$dirty">City is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Country <span class="label-required" ng-show="form.newCountry.$error.required">*</span></label>

          <div class="col-xs-7">
            <select name="newCountry" class="form-control" ng-model="newCollaborator.country" placeholder="Country"
                    required
                    ng-options="country.code as country.name for country in countries"
                    ng-change="getStateList()">
              <option value="">-- Select --</option>
            </select>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newCountry.$error.required && form.newCountry.$dirty">Country is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">State <span class="label-required" ng-show="form.newState.$error.required">*</span></label>

          <div class="col-xs-7">
            <select name="newState" class="form-control" ng-model="newCollaborator.state" placeholder="State"
                    required ng-options="state.code as state.name for state in states">
              <option value="">-- Select --</option>
            </select>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newState.$error.required && form.newState.$dirty">State is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Zip code <span class="label-required" ng-show="form.newZip.$error.required">*</span></label>

          <div class="col-xs-7">
            <input name="newZip" type="text" class="form-control" placeholder="Zip code" ng-model="newCollaborator.zip"
                   required>
            <span class="text-danger help-block m-b-none" ng-show="form.newZip.$error.required && form.newZip.$dirty">Zip is missing</span>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div>
        <input type="submit" class="btn btn-primary" ng-disabled="form.$invalid || form.$submitted || existingCompany.id == -1" value="Invite"/>
        <input type="button" ng-click="cancel()" class="btn warning" value="Cancel"/>
      </div>
    </div>
  </form>
  <div ng-show="sentSuccess">
    <div class="modal-body">
      <h5 class="text-success">Email sent. Please check mail</h5>
    </div>
  </div>
</div>