<div class="invite-collaborator">
  <div class="modal-header">
    <h3 class="modal-title">Invite to collaborate</h3>
  </div>
  <form name="form" class="form-horizontal form-validation" ng-submit="inviteCollaborator()" novalidate
        ng-show="!sentSuccess">
    <div class="modal-body">
      <div class="form-group">
        <label class="col-xs-3 col-xs-offset-1 control-label">First Name</label>

        <div class="col-xs-7">
          <input name="firstName" type="text" class="form-control" placeholder="First Name"
                 ng-model="firstName" required>
          <span class="text-danger help-block m-b-none"
                ng-show="form.firstName.$error.required && form.firstName.$dirty">First Name is missing</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-xs-3 col-xs-offset-1 control-label">Last Name</label>

        <div class="col-xs-7">
          <input name="lastName" type="text" class="form-control" placeholder="Last Name"
                 ng-model="lastName" required>
          <span class="text-danger help-block m-b-none" ng-show="form.lastName.$error.required && form.lastName.$dirty">Last Name is missing</span>
        </div>
      </div>
      <div class="form-group">
        <label class="col-xs-3 col-xs-offset-1 control-label">Email</label>

        <div class="col-xs-7">
          <input name="email" type="email" class="form-control" placeholder="Email"
                 ng-model="email" required>
          <span class="text-danger help-block m-b-none" ng-show="form.email.$error.email">Email is not valid</span>
          <span class="text-danger help-block m-b-none" ng-show="form.email.$error.required && form.email.$dirty">Email is missing</span>
        </div>
      </div>
      <div class="form-group" ng-if="addNewCompany == false">
        <label class="col-xs-3 col-xs-offset-1 control-label">Company Name</label>

        <div class="col-xs-7">
          <select class="form-control" name="existingCompanyName" ng-model="existingCompany.id"
                  ng-options="company.companyId as company.companyName for company in companies" required>
            <option value="">-- Select --</option>
          </select>
          <span class="text-danger help-block m-b-none"
                ng-show="form.existingCompanyName.$error.required && form.existingCompanyName.$dirty">Company Name is missing</span>
        </div>
      </div>
      <div class="form-group">
        <div class="col-xs-7 col-xs-offset-4">
          <a ng-click="addNewCompany = !addNewCompany">
            <span ng-if="!addNewCompany"><i class="fa fa-plus"></i> Add New Company</span>
            <span ng-if="addNewCompany">Use Existing Company</span>
          </a>
        </div>
      </div>
      <div ng-if="addNewCompany == true">
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Company Name</label>

          <div class="col-xs-7">
            <input name="newCompanyName" type="text" class="form-control" placeholder="Company Name"
                   ng-model="newCollaborator.companyName" required>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newCompanyName.$error.required && form.newCompanyName.$dirty">Company Name is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Company Type</label>

          <div class="col-xs-7">
            <select class="form-control" name="newCompanyType" ng-model="newCollaborator.companyType"
                    ng-options="type.value as type.name for type in companyTypes" required>
              <option value="">-- Select --</option>
            </select>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newCompanyType.$error.required && form.newCompanyType.$dirty">Company Type is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Address 1</label>

          <div class="col-xs-7">
            <input name="newAddress1" type="text" class="form-control" placeholder="Address 1"
                   ng-model="newCollaborator.addressOne" required>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newAddress1.$error.required && form.newAddress1.$dirty">Address 1 is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Address 2</label>

          <div class="col-xs-7">
            <input name="newAddress2" type="text" class="form-control" placeholder="Address 2"
                   ng-model="newCollaborator.addressTwo">
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">City</label>

          <div class="col-xs-7">
            <input name="newCity" type="text" class="form-control" placeholder="City" ng-model="newCollaborator.city"
                   required>
            <span class="text-danger help-block m-b-none" ng-show="form.newCity.$error.required && form.newCity.$dirty">City is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Country</label>

          <div class="col-xs-7">
            <select name="newCountry" class="form-control" ng-model="newCollaborator.country" placeholder="Country"
                    required
                    ng-options="country.code as country.name for country in countries"
                    ng-change="getStateList()">
              <option value="">-- Select --</option>
            </select>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newCountry.$error.required && form.newCountry.$dirty">Country is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">State</label>

          <div class="col-xs-7">
            <select name="newState" class="form-control" ng-model="newCollaborator.state" placeholder="State"
                    required ng-options="state.code as state.name for state in states">
              <option value="">-- Select --</option>
            </select>
            <span class="text-danger help-block m-b-none"
                  ng-show="form.newState.$error.required && form.newState.$dirty">State is missing</span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-xs-3 col-xs-offset-1 control-label">Zip</label>

          <div class="col-xs-7">
            <input name="newZip" type="text" class="form-control" placeholder="Zip" ng-model="newCollaborator.zip"
                   required>
            <span class="text-danger help-block m-b-none" ng-show="form.newZip.$error.required && form.newZip.$dirty">Zip is missing</span>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div>
        <input type="submit" class="btn btn-primary" ng-disabled="form.$invalid || form.$submitted" value="Invite"/>
        <input type="button" ng-click="cancel()" class="btn warning" value="Cancel"/>
      </div>
    </div>
  </form>
  <div ng-show="sentSuccess">
    <div class="modal-body">
      <h5 class="text-success">Email sent. Please check mail</h5>
    </div>
  </div>
</div>