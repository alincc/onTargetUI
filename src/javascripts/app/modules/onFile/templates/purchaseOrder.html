<div ng-controller="PurchaseOrderController">
    <div class="row">
        <div class="col-md-6">
            <form name="_form" no-validate class="form-validation" ng-submit="submit()">
                <div class="form-group">
                    <h4>Please fill out below infomation</h4>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Receiver's Name</label>
                            <select class="form-control" name="receiverName" ng-model="purchaseOrder.keyValues.username"
                                    ng-options="receiverName.userId as receiverName.contact.firstName + ' ' + receiverName.contact.lastName for receiverName in contacts" required>
                                <option value="">-- Select Receiver's Name --</option>
                            </select>
                            <ng-messages ng-if="_form.receiverName.$dirty"
                                         for="_form.receiverName.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Company Name</label>
                            <select class="form-control" name="companyName" ng-model="purchaseOrder.keyValues.company_name"
                                    ng-options="company.companyId as company.companyName for company in companies" required>
                                <option value="">-- Select Company Name --</option>
                            </select>
                            <ng-messages ng-if="_form.companyName.$dirty"
                                         for="_form.companyName.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>PO#</label>
                            <input type="text" class="form-control" placeholder="Enter PO#"
                                   ng-model="purchaseOrder.keyValues.PO"
                                   name="po" required/>
                            <!--<select class="form-control" name="po" ng-model="newDocument.po"
                                    ng-options="po.id as po.name for po in taskSeverities" required>
                                <option value="">&#45;&#45; Select PO# &#45;&#45;</option>
                            </select>-->
                            <ng-messages ng-if="_form.po.$dirty"
                                         for="_form.po.$error">
                                <span class="help-block m-b-none text-danger" ng-message
                                      when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Address</label>
                            <input type="text" class="form-control" placeholder="Enter Address"
                                   ng-model="purchaseOrder.keyValues.address"
                                   name="address" required/>
                            <ng-messages ng-if="_form.address.$dirty"
                                         for="_form.address.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="form-group">
                            <label>Subject</label>
                            <span class="pull-right">(Optional)</span>
                            <input type="text" class="form-control" placeholder="Enter Subject"
                                   ng-model="purchaseOrder.keyValues.subject"
                                   name="subject"/>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Priority</label>
                            <select class="form-control" name="priority" ng-model="purchaseOrder.keyValues.priority"
                                    ng-options="priority.id as priority.name for priority in priorities" required>
                                <option value="">-- Select Priority --</option>
                            </select>
                            <ng-messages ng-if="_form.priority.$dirty"
                                         for="_form.priority.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Due Date</label>
                            <p class="input-group">
                                <input type="text" class="form-control" placeholder="Enter/Select Due date" required
                                       ng-model="purchaseOrder.dueDate"
                                       datepicker-popup="MM/dd/yyyy" is-open="dueDate.isOpen"
                                       datepicker-options="dueDate.options"
                                       datepicker-append-to-body="true" date-range
                                       name="dueDate" ng-click="dueDate.isOpen = !dueDate.isOpen"/>
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default" ng-click="dueDate.open($event)"><i
                                        class="glyphicon glyphicon-calendar"></i></button>
                            </span>
                            </p>
                            <ng-messages ng-if="_form.dueDate.$dirty"
                                         for="_form.dueDate.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Shipping Method</label>
                            <select class="form-control" name="shippingMethod" ng-model="purchaseOrder.keyValues.shipping_method"
                                    ng-options="shippingMethod.id as shippingMethod.name for shippingMethod in shippingMethods" required>
                                <option value="">-- Select Shipping Method --</option>
                            </select>
                            <ng-messages ng-if="_form.shippingMethod.$dirty"
                                         for="_form.shippingMethod.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Shipping Terms</label>
                            <input type="text" class="form-control" placeholder="Enter Shipping Terms"
                                   ng-model="purchaseOrder.keyValues.shipping_terms"
                                   name="shippingTerms" required/>
                            <ng-messages ng-if="_form.shippingTerms.$dirty"
                                         for="_form.shippingTerms.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <h4>Please fill out the Shipping information</h4>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" class="form-control" placeholder="Enter Name"
                                   ng-model="purchaseOrder.keyValues.ship_to_name"
                                   name="shippingName" required/>
                            <ng-messages ng-if="_form.shippingName.$dirty"
                                         for="_form.shippingName.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Company Name</label>
                            <select class="form-control" name="shippingCompanyName" ng-model="purchaseOrder.keyValues.ship_to_company"
                                    ng-options="company.companyId as company.companyName for company in companies" required>
                                <option value="">-- Select Company Name --</option>
                            </select>
                            <ng-messages ng-if="_form.shippingCompanyName.$dirty"
                                         for="_form.shippingCompanyName.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Address</label>
                            <input type="text" class="form-control" placeholder="Enter Address"
                                   ng-model="purchaseOrder.keyValues.ship_to_address"
                                   name="shippingAddress" required/>
                            <ng-messages ng-if="_form.shippingAddress.$dirty"
                                         for="_form.shippingAddress.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label>Total PO Amount</label>
                            <input type="text" class="form-control" placeholder="Enter Total PO Amount"
                                   ng-model="purchaseOrder.keyValues.total_po_amount"
                                   name="totalPOAmount" required/>
                            <ng-messages ng-if="_form.totalPOAmount.$dirty"
                                         for="_form.totalPOAmount.$error">
                                <span class="help-block m-b-none text-danger" ng-message when="required">This is a required field.</span>
                            </ng-messages>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="form-group">
                            <label>Notes</label>
                            <span class="pull-right">(Optional)</span>
                            <textarea type="text" class="form-control" placeholder="Enter Notes"
                                   ng-model="purchaseOrder.keyValues.notes"
                                   name="notes"/>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <button ng-disabled="_form.$invalid || _form.$submitted"
                            loading-button="_form.$submitted"
                            class="btn btn-primary pull-right" type="submit">Submit
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>